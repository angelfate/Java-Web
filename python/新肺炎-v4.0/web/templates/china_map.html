{% extends "common/base.html" %}{% block title %}全国新型冠状病毒实时分布图-地理图{% endblock %}{% block css %}<link href="{{ buildStaticUrl('/css/map.css') }}" rel="stylesheet">{% endblock %}{% block conntent %}<div class="map_data"><div class="now_make"><button>现有确诊</button></div><div class="data_desc">数据来源百度，163等公开数据，本站更新可能有延迟<br><span style="color: red">PS：因服务器带宽较低，可视化图插件加载需3-7秒</span></div><div id="virus-map" class="chart-container"></div></div>{% endblock %}{% block javascript %}<script type="text/javascript">            document.write("<scr"+"ipt src=\"{{ buildStaticUrl('/js/echarts.min_gf.js') }}\"></sc"+"ript>");</script><script src="{{ buildStaticUrl('/js/china.js') }}"></script>{% endblock %}{% block javascriptcoon %}// 地理图绘制var chart_7a25c472fa7e42d0b76ead739475efbc = echarts.init(    document.getElementById('virus-map'), 'white', {renderer: 'canvas'});setTimeout( ()=>{    // setOption前隐藏loading事件    chart_7a25c472fa7e42d0b76ead739475efbc.hideLoading(); // 隐藏加载动画    chart_7a25c472fa7e42d0b76ead739475efbc.setOption(option_7a25c472fa7e42d0b76ead739475efbc);},1000);var option_7a25c472fa7e42d0b76ead739475efbc = {    "animation": true,    "animationThreshold": 2000,    "animationDuration": 1000,    "animationEasing": "cubicOut",    "animationDelay": 0,    "animationDurationUpdate": 300,    "animationEasingUpdate": "cubicOut",    "animationDelayUpdate": 0,    "color": [        "#c23531",        "#2f4554",        "#61a0a8",        "#d48265",        "#749f83",        "#ca8622",        "#bda29a",        "#6e7074",        "#546570",        "#c4ccd3",        "#f05b72",        "#ef5b9c",        "#f47920",        "#905a3d",        "#fab27b",        "#2a5caa",        "#444693",        "#726930",        "#b2d235",        "#6d8346",        "#ac6767",        "#1d953f",        "#6950a1",        "#918597"    ],    "series": [        {            "type": "map",            "name": "20200308\u4e2d\u56fd\u75ab\u60c5\u5730\u56fe",  // 顶部标题            "label": {                "show": true,                "position": "top",                "margin-top": 8,            },            "mapType": "china",            "data": [                {% for data in table_data %}                    {                        "name":"{{ data.area|safe }}",                        "value":{{ data.curConfirm }},                    },                {% endfor %}                ],            "roam": true,  // 允许放大缩小            "zoom": 1.25,  // 地图大小            "showLegendSymbol": true,            "emphasis": {},        }    ],    "legend": [         {            "data": [                "20200308\u4e2d\u56fd\u75ab\u60c5\u5730\u56fe"            ],            "selected": {                "20200308\u4e2d\u56fd\u75ab\u60c5\u5730\u56fe": true            },            "show": true,            // "padding": 100,             "itemGap": 50,            "itemWidth": 25,            "itemHeight": 20        }    ],    "tooltip": {        "show": true,        "trigger": "item",        "triggerOn": "mousemove|click",        "axisPointer": {            "type": "line"        },        "textStyle": {            "fontSize": 14  //鼠标悬浮显示的文字大小        },        "borderWidth": 0    },    // "title": [    //     {    //         // "text": "20200308\u4e2d\u56fd\u75ab\u60c5\u5730\u56fe",  // 左上角的标题    //         "padding": 5,    //         "itemGap": 10    //     }    // ],    "visualMap": {        "show": true,        "type": "piecewise",        "min": 0,        "max": 3600,        "inRange": {            "color": [                "#50a3ba",                "#eac763",                "#d94e5d"            ]        },        "calculable": true,        "inverse": false,        "splitNumber": 5,        "orient": "vertical",        "showLabel": true,        "itemWidth": 20,        "itemHeight": 14,        "borderWidth": 0,        "pieces": [            {                // "max": 5000,                "min": 10000,                "label": ">10000",                "color": "#8A0808"            },            {                "max": 9999,                "min": 1000,                "label": "1000-9999",                "color": "#B40404"            },            {                "max": 999,                "min": 100,                "label": "100-999",                "color": "#DF0101"            },            {                "max": 99,                "min": 10,                "label": "10-99",                "color": "#F78181"            },            {                "max": 9,                "min": 1,                "label": "1-9",                "color": "#F5A9A9"            },            {                "max": 0,                "min": 0,                "label": "0",                "color": "#FFFFFF"            }        ]    }};{% endblock %}