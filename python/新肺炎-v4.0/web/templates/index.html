{% extends "common/base.html" %}{% block title %}全国新型冠状病毒实时分布图-首页{% endblock %}{% block css %}<link href="{{ buildStaticUrl('/css/index.css') }}" rel="stylesheet">{% endblock %}{% block conntent %}<div class="data_desc">数据来源百度，163等公开数据，本站更新可能有延迟<br><span style="color: red">PS：因服务器带宽较低，可视化图插件加载需3-7秒~</span></div><div class="plate_title" id="yqqs">全国 新增确诊/疑似/治愈/死亡 趋势</div><div id="zhexian_data"></div><div class="plate_title" id="gdyq">国内各地区疫情</div><div class="china_xfy_desc2">更新高峰时候，数据若滞后敬请谅解</div><div class="table_data"><table><thead><th>地区</th><th style="color: #1E9FFF">新增确诊</th><th>累计确诊</th><th>治愈</th><th>死亡</th></thead><tbody>        {% for data in table_data %}<tr><td>{{ data.area }}</td><td style="color: #1E9FFF">{{ data.confirmedRelative }}</td><td>{{ data.confirmed }}</td><td>{{ data.crued }}</td><td>{{ data.died }}</td></tr>         {% endfor %}</tbody></table></div><div class="plate_title" id="ssbb">实时播报</div><div class="Real-timebroadcast"><fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;"><legend>实时播报</legend></fieldset><ul class="layui-timeline">        {% for data in broadcast%}<li class="layui-timeline-item"><i class="layui-icon layui-timeline-axis"></i><div class="layui-timeline-content layui-text"><h3 class="layui-timeline-title timeline-title-color">{{ data.date_time}}</h3><a href="{{ data.link }}" class="broadcast">{{ data.title}}</a></div></li>        {% endfor %}</ul></div>{% endblock %}{% block javascript %}<script type="text/javascript">            document.write("<scr"+"ipt src=\"{{ buildStaticUrl('/js/echarts.min_gf.js') }}\"></sc"+"ript>");</script>{% endblock %}{% block javascriptcoon %}//var zhexian_data = echarts.init(document.getElementById('zhexian_data'), 'white', {renderer: 'canvas'});var zhexian_data = echarts.init(document.getElementById('zhexian_data'), 'white', {renderer: 'canvas'});zhexian_data.showLoading(); // 显示加载动画setTimeout( ()=>{    // setOption前隐藏loading事件    zhexian_data.hideLoading(); // 隐藏加载动画    zhexian_data.setOption(option_zhexian);},1000);option_zhexian = {    title: {        //text: '趋势图每日更新一次',        textStyle:{            fontSize:15,            color:'dimgrey'        },        subtext: '单位：例',        subtextStyle:{            fontSize:13,            color:'#b2b2b2'        }    },    tooltip: {        trigger: 'axis'    },    legend: {        data: ['新增确诊', '新增疑似', '新增治愈', '新增死亡']    },    grid: {        left: '3%',        right: '4%',        bottom: '3%',        containLabel: true    },    toolbox: {        // showTitle:true,        feature: {            showTitle:'false',            show:true,            //saveAsImage: {}, // 下载图片            //restore:{},  // 所有属性,配置项还原。            // dataView:{}, // 数据视图工具，可以展现当前图表所用的数据，编辑后可以动态更新。            magicType: { // 图表类型切换            type: ['bar','stack'], //type: ['line', 'bar', 'stack', 'tiled']             }        }    },    xAxis: {        type: 'category',        boundaryGap: false,        // showAllSymbol: 'auto',        // 横轴，可以大于数据长度        data: {{ every_day_list|safe }},    },    yAxis: {        type: 'value',    }, //    dataZoom:[{ // 　　　　type: 'slider',//图表下方的伸缩条 // 　　　　show : true, //是否显示 // 　　　　realtime : true, //拖动时，是否实时更新系列的视图 // 　　　　start : 0, //伸缩条开始位置（1-100），可以随时更改 // 　　　　end : 100, //伸缩条结束位置（1-100），可以随时更改 // 　　}],    series: [        {            name: '新增确诊',            type: 'line',            //stack: '总量', // 数据堆叠时，去掉statck属性，负责会追加数据            // showAllSymbol: 'auto',            data: {{ confirm_list }},        },        {            name: '新增疑似',            type: 'line',            //stack: '总量',            // showAllSymbol: 'auto',            data: {{ suspect_list }},        },        {            name: '新增治愈',            type: 'line',            stack: '总量',            // showAllSymbol: 'auto',            data: {{ heal_list }},        },        {            name: '新增死亡',            type: 'line',            //stack: '总量',            // showAllSymbol: 'auto',            data:  {{ dead_list|safe }},        },    ],};{% endblock %}